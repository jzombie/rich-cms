let c;const b=new Array(128).fill(void 0);b.push(void 0,null,!0,!1);function _(n){return b[n]}let p=b.length;function q(n){n<132||(b[n]=p,p=n)}function l(n){const e=_(n);return q(n),e}const I=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&I.decode();let y=null;function S(){return(y===null||y.byteLength===0)&&(y=new Uint8Array(c.memory.buffer)),y}function w(n,e){return n=n>>>0,I.decode(S().subarray(n,n+e))}function i(n){p===b.length&&b.push(b.length+1);const e=p;return p=b[e],b[e]=n,e}function W(n){const e=typeof n;if(e=="number"||e=="boolean"||n==null)return`${n}`;if(e=="string")return`"${n}"`;if(e=="symbol"){const o=n.description;return o==null?"Symbol":`Symbol(${o})`}if(e=="function"){const o=n.name;return typeof o=="string"&&o.length>0?`Function(${o})`:"Function"}if(Array.isArray(n)){const o=n.length;let s="[";o>0&&(s+=W(n[0]));for(let u=1;u<o;u++)s+=", "+W(n[u]);return s+="]",s}const t=/\[object ([^\]]+)\]/.exec(toString.call(n));let r;if(t.length>1)r=t[1];else return toString.call(n);if(r=="Object")try{return"Object("+JSON.stringify(n)+")"}catch{return"Object"}return n instanceof Error?`${n.name}: ${n.message}
${n.stack}`:r}let d=0;const T=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},L=typeof T.encodeInto=="function"?function(n,e){return T.encodeInto(n,e)}:function(n,e){const t=T.encode(n);return e.set(t),{read:n.length,written:t.length}};function M(n,e,t){if(t===void 0){const a=T.encode(n),g=e(a.length,1)>>>0;return S().subarray(g,g+a.length).set(a),d=a.length,g}let r=n.length,o=e(r,1)>>>0;const s=S();let u=0;for(;u<r;u++){const a=n.charCodeAt(u);if(a>127)break;s[o+u]=a}if(u!==r){u!==0&&(n=n.slice(u)),o=t(o,r,r=u+n.length*3,1)>>>0;const a=S().subarray(o+u,o+r),g=L(n,a);u+=g.written,o=t(o,r,u,1)>>>0}return d=u,o}let h=null;function m(){return(h===null||h.byteLength===0)&&(h=new Int32Array(c.memory.buffer)),h}const E=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>{c.__wbindgen_export_2.get(n.dtor)(n.a,n.b)});function O(n,e,t,r){const o={a:n,b:e,cnt:1,dtor:t},s=(...u)=>{o.cnt++;const a=o.a;o.a=0;try{return r(a,o.b,...u)}finally{--o.cnt===0?(c.__wbindgen_export_2.get(o.dtor)(a,o.b),E.unregister(o)):o.a=a}};return s.original=o,E.register(s,o,o),s}function $(n,e){c._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h81a6130fe4042d5c(n,e)}function C(n,e,t){c._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hb29d047d49f407a6(n,e,i(t))}function D(){c.main()}function z(){const n=c.get_symbols();return l(n)}function N(){const n=c.count_etfs_per_exchange();return l(n)}function P(n){const e=M(n,c.__wbindgen_malloc,c.__wbindgen_realloc),t=d,r=c.get_etf_holder_asset_count(e,t);return l(r)}function B(n){const e=M(n,c.__wbindgen_malloc,c.__wbindgen_realloc),t=d,r=c.get_etf_holder_asset_names(e,t);return l(r)}function f(n,e){try{return n.apply(this,e)}catch(t){c.__wbindgen_exn_store(i(t))}}function H(n,e,t,r){c.wasm_bindgen__convert__closures__invoke2_mut__h6d6f293e97ac07d7(n,e,i(t),i(r))}async function Q(n,e){if(typeof Response=="function"&&n instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(n,e)}catch(r){if(n.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const t=await n.arrayBuffer();return await WebAssembly.instantiate(t,e)}else{const t=await WebAssembly.instantiate(n,e);return t instanceof WebAssembly.Instance?{instance:t,module:n}:t}}function F(){const n={};return n.wbg={},n.wbg.__wbindgen_object_drop_ref=function(e){l(e)},n.wbg.__wbindgen_string_new=function(e,t){const r=w(e,t);return i(r)},n.wbg.__wbindgen_number_new=function(e){return i(e)},n.wbg.__wbindgen_object_clone_ref=function(e){const t=_(e);return i(t)},n.wbg.__wbindgen_cb_drop=function(e){const t=l(e).original;return t.cnt--==1?(t.a=0,!0):!1},n.wbg.__wbg_debug_5fb96680aecf5dc8=function(e){console.debug(_(e))},n.wbg.__wbg_status_d485fb5a478426fb=function(){return f(function(e){return _(e).status},arguments)},n.wbg.__wbg_setresponseType_c50d8f6cb4236ef5=function(e,t){_(e).responseType=l(t)},n.wbg.__wbg_response_7c2e2759084f7279=function(){return f(function(e){const t=_(e).response;return i(t)},arguments)},n.wbg.__wbg_new_71801a555ad9f2aa=function(){return f(function(){const e=new XMLHttpRequest;return i(e)},arguments)},n.wbg.__wbg_open_85f3205b02464bad=function(){return f(function(e,t,r,o,s){_(e).open(w(t,r),w(o,s))},arguments)},n.wbg.__wbg_send_80d29985093c1ec5=function(){return f(function(e){_(e).send()},arguments)},n.wbg.__wbg_setonerror_667bee7dd2dad2ed=function(e,t){_(e).onerror=_(t)},n.wbg.__wbg_setonload_7d69e0bcecfa1d8a=function(e,t){_(e).onload=_(t)},n.wbg.__wbg_queueMicrotask_481971b0d87f3dd4=function(e){queueMicrotask(_(e))},n.wbg.__wbg_queueMicrotask_3cbae2ec6b6cd3d6=function(e){const t=_(e).queueMicrotask;return i(t)},n.wbg.__wbindgen_is_function=function(e){return typeof _(e)=="function"},n.wbg.__wbindgen_is_undefined=function(e){return _(e)===void 0},n.wbg.__wbg_String_1c522c3233f70723=function(e,t){const r=String(_(t)),o=M(r,c.__wbindgen_malloc,c.__wbindgen_realloc),s=d;m()[e/4+1]=s,m()[e/4+0]=o},n.wbg.__wbg_new_16b304a2cfa7ff4a=function(){const e=new Array;return i(e)},n.wbg.__wbg_newnoargs_e258087cd0daa0ea=function(e,t){const r=new Function(w(e,t));return i(r)},n.wbg.__wbg_new_d9bc3a0147634640=function(){return i(new Map)},n.wbg.__wbg_call_27c0f87801dedf93=function(){return f(function(e,t){const r=_(e).call(_(t));return i(r)},arguments)},n.wbg.__wbg_self_ce0dbfc45cf2f5be=function(){return f(function(){const e=self.self;return i(e)},arguments)},n.wbg.__wbg_window_c6fb939a7f436783=function(){return f(function(){const e=window.window;return i(e)},arguments)},n.wbg.__wbg_globalThis_d1e6af4856ba331b=function(){return f(function(){const e=globalThis.globalThis;return i(e)},arguments)},n.wbg.__wbg_global_207b558942527489=function(){return f(function(){const e=global.global;return i(e)},arguments)},n.wbg.__wbg_push_a5b05aedc7234f9f=function(e,t){return _(e).push(_(t))},n.wbg.__wbg_new_28c511d9baebfa89=function(e,t){const r=new Error(w(e,t));return i(r)},n.wbg.__wbg_call_b3ca7c6051f9bec1=function(){return f(function(e,t,r){const o=_(e).call(_(t),_(r));return i(o)},arguments)},n.wbg.__wbg_set_8417257aaedc936b=function(e,t,r){const o=_(e).set(_(t),_(r));return i(o)},n.wbg.__wbg_new_81740750da40724f=function(e,t){try{var r={a:e,b:t},o=(u,a)=>{const g=r.a;r.a=0;try{return H(g,r.b,u,a)}finally{r.a=g}};const s=new Promise(o);return i(s)}finally{r.a=r.b=0}},n.wbg.__wbg_resolve_b0083a7967828ec8=function(e){const t=Promise.resolve(_(e));return i(t)},n.wbg.__wbg_then_0c86a60e8fcfe9f6=function(e,t){const r=_(e).then(_(t));return i(r)},n.wbg.__wbg_then_a73caa9a87991566=function(e,t,r){const o=_(e).then(_(t),_(r));return i(o)},n.wbg.__wbg_buffer_12d079cc21e14bdb=function(e){const t=_(e).buffer;return i(t)},n.wbg.__wbg_new_63b92bc8671ed464=function(e){const t=new Uint8Array(_(e));return i(t)},n.wbg.__wbg_set_a47bac70306a19a7=function(e,t,r){_(e).set(_(t),r>>>0)},n.wbg.__wbg_length_c20a40f15020d68a=function(e){return _(e).length},n.wbg.__wbg_new_abda76e883ba8a5f=function(){const e=new Error;return i(e)},n.wbg.__wbg_stack_658279fe44541cf6=function(e,t){const r=_(t).stack,o=M(r,c.__wbindgen_malloc,c.__wbindgen_realloc),s=d;m()[e/4+1]=s,m()[e/4+0]=o},n.wbg.__wbg_error_f851667af71bcfc6=function(e,t){let r,o;try{r=e,o=t,console.error(w(e,t))}finally{c.__wbindgen_free(r,o,1)}},n.wbg.__wbindgen_debug_string=function(e,t){const r=W(_(t)),o=M(r,c.__wbindgen_malloc,c.__wbindgen_realloc),s=d;m()[e/4+1]=s,m()[e/4+0]=o},n.wbg.__wbindgen_throw=function(e,t){throw new Error(w(e,t))},n.wbg.__wbindgen_memory=function(){const e=c.memory;return i(e)},n.wbg.__wbindgen_closure_wrapper174=function(e,t,r){const o=O(e,t,65,$);return i(o)},n.wbg.__wbindgen_closure_wrapper388=function(e,t,r){const o=O(e,t,97,C);return i(o)},n}function U(n,e){return c=n.exports,x.__wbindgen_wasm_module=e,h=null,y=null,c.__wbindgen_start(),c}function X(n){if(c!==void 0)return c;const e=F();n instanceof WebAssembly.Module||(n=new WebAssembly.Module(n));const t=new WebAssembly.Instance(n,e);return U(t,n)}async function x(n){if(c!==void 0)return c;typeof n>"u"&&(n=new URL("/assets/hello_wasm_bg-DXoTcpkK.wasm",import.meta.url));const e=F();(typeof n=="string"||typeof Request=="function"&&n instanceof Request||typeof URL=="function"&&n instanceof URL)&&(n=fetch(n));const{instance:t,module:r}=await Q(await n,e);return U(t,r)}var R=Object.freeze({__proto__:null,count_etfs_per_exchange:N,default:x,get_etf_holder_asset_count:P,get_etf_holder_asset_names:B,get_symbols:z,initSync:X,main:D});let j=!1,A=null,k=[];async function J(){j||(A?await A:(A=x().then(()=>{j=!0}),await A))}async function K(){for(;k.length>0;){const n=k.shift();if(n){const{functionName:e,args:t,resolve:r,reject:o}=n;try{if(await J(),typeof R[e]!="function")throw new Error(`Unknown function: ${e}`);const s=await R[e](...t);r(s)}catch(s){console.error("Worker encountered an error:",s),o(s)}}}}self.onmessage=async n=>{const{functionName:e,args:t,messageId:r}=n.data;console.log("Worker received message with functionName:",e,"and args:",t),new Promise((s,u)=>{k.push({functionName:e,args:t,resolve:s,reject:u}),k.length===1&&K()}).then(s=>{self.postMessage({success:!0,result:s,messageId:r})}).catch(s=>{self.postMessage({success:!1,error:s.message,messageId:r})})};
